# –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫ Foodgram

## üç± –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç ¬´–§—É–¥–≥—Ä–∞–º¬ª ‚Äî —Å–∞–π—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Ä–µ—Ü–µ–ø—Ç—ã, –¥–æ–±–∞–≤–ª—è—Ç—å —á—É–∂–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö –∞–≤—Ç–æ—Ä–æ–≤. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω —Å–µ—Ä–≤–∏—Å ¬´–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫¬ª, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –±–ª—é–¥ –∏ —Å–∫–∞—á–∏–≤–∞—Ç—å –µ–≥–æ.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

![Python](https://img.shields.io/badge/Python-3.12-3776AB?logo=python&logoColor=white)
![Django](https://img.shields.io/badge/Django-3.2-092E20?logo=django&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-14-336791?logo=postgresql&logoColor=white)
![React](https://img.shields.io/badge/React-61DAFB?logo=react&logoColor=black)
![Nginx](https://img.shields.io/badge/Nginx-1.25-009639?logo=nginx&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2496ED?logo=docker&logoColor=white)

## üöÄ –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ (Docker)

–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–±—ç–∫–µ–Ω–¥, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, nginx) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Docker Compose.

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Desktop:
- [Windows –∏ MacOS](https://www.docker.com/products/docker-desktop)
- [Linux](https://docs.docker.com/engine/install/ubuntu/)

–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone git@github.com:your-username/foodgram-st.git
cd foodgram-st
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–í –ø–∞–ø–∫–µ `infra/` —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`.
**–ü—Ä–∏–º–µ—Ä –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è:**

```bash
# Django
SECRET_KEY='...'
DEBUG=False
ALLOWED_HOSTS=localhost,127.0.0.1,backend

# Database
POSTGRES_DB=foodgram-db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DB_HOST=db
DB_PORT=5432
```

### 3. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
–ò–∑ –ø–∞–ø–∫–∏ —Å `docker-compose.yml` –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
docker compose up -d --build
```

### 4. –°–ø–∏—Å–æ–∫ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥–∞ `docker container ls` –ø–æ–∫–∞–∂–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
- **foodgram-proxy** (Nginx) ‚Äî –≤—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ—Ä—Ç 80)
- **foodgram-backend** (Django + Gunicorn) ‚Äî API –∏ –∞–¥–º–∏–Ω–∫–∞
- **foodgram-frontend** ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å React (–∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏)
- **foodgram-db** (PostgreSQL) ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

–≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
–ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON-—Ñ–∞–π–ª–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞—Å—Ç–æ–º–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞):
```bash
docker compose exec backend python manage.py load_ingredients
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
–°–æ–∑–¥–∞–µ–º —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –≤ –∞–¥–º–∏–Ω–∫—É:
```bash
docker compose exec backend python manage.py createsuperuser
```
### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ API.

#### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ó–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ. –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST \
  http://127.0.0.1:8000/api/users/ \
  -H 'Content-Type: application/json' \
  -d '{
    "email": "user@example.com",
    "username": "string",
    "first_name": "string",
    "last_name": "string",
    "password": "strong_password"
}'
```

**–û—Ç–≤–µ—Ç (–°—Ç–∞—Ç—É—Å 201 Created):**```json
{
    "email": "user@example.com",
    "id": 1,
    "username": "string",
    "first_name": "string",
    "last_name": "string"
}
```

---

#### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º.

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST \
  http://127.0.0.1:8000/api/auth/token/login/ \
  -H 'Content-Type: application/json' \
  -d '{
    "email": "user@example.com",
    "password": "strong_password"
}'
```

**–û—Ç–≤–µ—Ç (–°—Ç–∞—Ç—É—Å 200 OK):**
```json
{
    "auth_token": "9a4a7282155b5b5f2c27b0b61234567890abcdef"
}
```

---

#### 3. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç, –ø–µ—Ä–µ–¥–∞–≤ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤–∫–ª—é—á–∞—è –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã.

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST \
  http://127.0.0.1:8000/api/recipes/ \
  -H 'Authorization: Token 9a4a7282155b5b5f2c27b0b61234567890abcdef' \
  -H 'Content-Type: application/json' \
  -d '{
    "ingredients": [
        { "id": 1, "amount": 100 },
        { "id": 5, "amount": 2 }
    ],
    "tags": [1],
    "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAgMAAABieywaAAAACVBMVEUAAAD///9fX1/S0ecCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNoAAAAggCByxOyYQAAAABJRU5ErkJggg==",
    "name": "–Ø–∏—á–Ω–∏—Ü–∞ —Å –ø–æ–º–∏–¥–æ—Ä–∞–º–∏",
    "text": "–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞...",
    "cooking_time": 10
}'
```
*–í –ø–æ–ª–µ `image` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Base64.*

**–û—Ç–≤–µ—Ç (–°—Ç–∞—Ç—É—Å 201 Created):**
*–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–∑–¥–∞–Ω–Ω–æ–º —Ä–µ—Ü–µ–ø—Ç–µ.*

---

#### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤. –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤.

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X GET \
  'http://127.0.0.1:8000/api/recipes/?is_favorited=1&author=2' \
  -H 'Authorization: Token 9a4a7282155b5b5f2c27b0b61234567890abcdef'
```
*–≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –≤–µ—Ä–Ω–µ—Ç —Ä–µ—Ü–µ–ø—Ç—ã –∞–≤—Ç–æ—Ä–∞ —Å `id=2`, –∫–æ—Ç–æ—Ä—ã–µ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–∏–ª –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ.*

**–û—Ç–≤–µ—Ç (–°—Ç–∞—Ç—É—Å 200 OK):**
```json
{
    "count": 1,
    "next": null,
    "previous": null,
    "results": [
        {
            "id": 15,
            "name": "–û–º–ª–µ—Ç —Å —Å—ã—Ä–æ–º",
            "image": "http://127.0.0.1:8000/media/recipes/images/omelet.png",
            "cooking_time": 15,
            // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
        }
    ]
}
```

---

#### 5. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–∫—É–ø–æ–∫

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–∫–∞—á–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –∏–∑ —Ä–µ—Ü–µ–ø—Ç–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤ –µ–≥–æ –∫–æ—Ä–∑–∏–Ω—É.

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X GET \
  http://127.0.0.1:8000/api/recipes/download_shopping_cart/ \
  -H 'Authorization: Token 9a4a7282155b5b5f2c27b0b61234567890abcdef' \
  --output shopping_list.txt
```
*–ö–æ–º–∞–Ω–¥–∞ `--output shopping_list.txt` —Å–æ—Ö—Ä–∞–Ω–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–∞–π–ª.*

**–û—Ç–≤–µ—Ç (–°—Ç–∞—Ç—É—Å 200 OK):**
–ë—Ä–∞—É–∑–µ—Ä –∏–ª–∏ cURL —Å–∫–∞—á–∞—é—Ç —Ñ–∞–π–ª `shopping_list.txt` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```
–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫:

‚Ä¢ –ú—É–∫–∞ (–≥) ‚Äî 100
‚Ä¢ –ü–æ–º–∏–¥–æ—Ä (—à—Ç) ‚Äî 2
‚Ä¢ –°—ã—Ä (–≥) ‚Äî 50
‚Ä¢ –Ø–π—Ü–æ (—à—Ç) ‚Äî 2
```


## üåê –ê–¥—Ä–µ—Å–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ê–¥—Ä–µ—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|
| http://localhost/ | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∞–π—Ç–∞ |
| http://localhost/admin/ | –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |

–°–≤—è–∑—å —Å –∞–≤—Ç–æ—Ä–æ–º: 
Tg: @Fgcvvv
mdsv@inbox.ru
